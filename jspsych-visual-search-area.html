<!DOCTYPE html>
<html>

<head>

  <script src="js/snap.svg-min.js"></script>
  <script src="js/jspsych.js"></script>
  <script src="js/jspsych-html-keyboard-response.js"></script>
  <script src="jspsych-visual-search-area.js"></script>
  <link rel="stylesheet" href="css/jspsych.css"></link>
</head>
<body></body>
<script>

    var blackN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_a9vm7Xt0RAGbIZT';
    var blackNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_etUuwWE6KBXvfVj';
    var blueN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_1G30qJte2pOSlY9';
    var blueNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_bearwNFEK8sTp3f';
    var greenN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_6Sj3NvmUnfWl5UV';
    var greenNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_0UGxmdLNx3isonz';
    var purpleN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_6s1Ozqn41jpD6i9';
    var purpleNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_9o7kT7GXKNbN5DD';
    var redN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_0jKr5cMNf0AfqWV';
    var redNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_8AqAmzaq09s2iIR';
    var orangeN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_8eTROOeRzBFXSqV';
    var orangeNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_3HOt9HxeE2xMCUZ';
    var tealN ='https://login.qualtrics.com/ControlPanel/File.php?F=F_dbNJvqrDTRqJTZX';
    var tealNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_2fM66YTp9kM9iPr';
    var yellowN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_8qxrADNVUbkCWaN';
    var yellowNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_etdSHcRslE4WoaV';
    var fixation = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_8hMer7qhnryQp3T';

    // for testing
    // var blackN = 'img/n.png';
    // var blackNreverse = 'img/n-reverse.png';
    // var blueN = 'img/n-blue.png';
    // var blueNreverse = 'img/n-reverse-blue.png';
    // var greenN = 'img/n-green.png';
    // var greenNreverse = 'img/n-reverse-green.png';
    // var purpleN = 'img/n-purple.png';
    // var purpleNreverse = 'img/n-reverse-purple.png';
    // var redN = 'img/n-red.png';
    // var redNreverse = 'img/n-reverse-red.png';
    // var orangeN = 'img/n-orange.png';
    // var orangeNreverse = 'img/n-reverse-orange.png';
    // var tealN ='img/n-teal.png';
    // var tealNreverse = 'img/n-reverse-teal.png';
    // var yellowN = 'img/n-yellow.png';
    // var yellowNreverse = 'img/n-reverse-yellow.png';
    // var fixation = 'img/fixation.gif';


 var introduction  = [];

  var intro = {
    type: 'html-keyboard-response',
    stimulus: '<p>On the following screens, you will see a series of <b>N&apos;s.</b></p><br> <img src="'+ blackN +'"><br><b>Press any key to continue.</b>'
  }
  introduction.push(intro);

  var intro2 = {
    type: 'html-keyboard-response',
    stimulus: '<p>Some of them will be backwards.</p><br><img src="'+ blackNreverse +'"><br><b>Press any key to continue.</b>'
  }
   introduction.push(intro2);

  var intro3 = {
    type: 'html-keyboard-response',
    stimulus: '<p>If you see a backwards <b>N</b>, press the <b>J</b> key on your keyboard.</p><br><p>If you do not see a backwards <b>N</b> on the screen, press <b>F</b> on your keyboard.</p><br><p>Try and do these as quickly as possible while still maintaining accuracy.</p><br><b>Press any key to begin experiment.</b>'
  }
   introduction.push(intro3);


 var num_trials = 100;
 var distractors = [blackN];
 var targets = [blackNreverse];
 var present = [true, false];
 var trials = [];
 var size = 40;
 var min = 10;
 var max = 24;



 // create trials
 for (var i = 0; i < num_trials ; i++){

  // random element from list distractors
  // this will be the main color (same as target)
  var index = Math.floor(Math.random()*distractors.length);
  var distractor = distractors[index];

  // same element from list targets
  // this will be the target
  var target = targets[index];

  // set size between acceptible range
  var set = Math.random() * (max - min) + min;


  // randomize present
  var present_index = Math.floor(Math.random()*present.length);

  var trial = {
    target_present: present[present_index],
    target: target,
    foil: distractor,
    set_size: set,
    target_size: [size,size]
  }

  trials.push(trial);

 }



  var trials = {
    type: 'visual-search-area',
    fixation_image: fixation,
    timeline: trials
  };

  jsPsych.init({
    timeline: [intro, intro2, intro3, trials],
    on_finish: function() {
      jsPsych.data.displayData();
    }
  });
</script>

</html>
