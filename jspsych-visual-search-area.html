<!DOCTYPE html>
<html>

<head>

  <script src="js/snap.svg-min.js"></script>
  <script src="js/jspsych.js"></script>
  <script src="js/jspsych-html-keyboard-response.js"></script>
  <script src="jspsych-visual-search-area.js"></script>
  <link rel="stylesheet" href="css/jspsych.css"></link>
</head>
<body></body>
<script>

    // var blackN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_a9vm7Xt0RAGbIZT';
    // var blackNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_etUuwWE6KBXvfVj';
    // var blueN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_1G30qJte2pOSlY9';
    // var blueNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_bearwNFEK8sTp3f';
    // var greenN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_6Sj3NvmUnfWl5UV';
    // var greenNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_0UGxmdLNx3isonz';
    // var purpleN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_6s1Ozqn41jpD6i9';
    // var purpleNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_9o7kT7GXKNbN5DD';
    // var redN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_0jKr5cMNf0AfqWV';
    // var redNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_8AqAmzaq09s2iIR';
    // var orangeN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_8eTROOeRzBFXSqV';
    // var orangeNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_3HOt9HxeE2xMCUZ';
    // var tealN ='https://login.qualtrics.com/ControlPanel/File.php?F=F_dbNJvqrDTRqJTZX';
    // var tealNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_2fM66YTp9kM9iPr';
    // var yellowN = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_8qxrADNVUbkCWaN';
    // var yellowNreverse = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_etdSHcRslE4WoaV';
    // var fixation = 'https://login.qualtrics.com/ControlPanel/File.php?F=F_8hMer7qhnryQp3T';

    // for testing
    var blackN = 'img/n.png';
    var blackNreverse = 'img/n-reverse.png';
    var blueN = 'img/n-blue.png';
    var blueNreverse = 'img/n-reverse-blue.png';
    var greenN = 'img/n-green.png';
    var greenNreverse = 'img/n-reverse-green.png';
    var purpleN = 'img/n-purple.png';
    var purpleNreverse = 'img/n-reverse-purple.png';
    var redN = 'img/n-red.png';
    var redNreverse = 'img/n-reverse-red.png';
    var orangeN = 'img/n-orange.png';
    var orangeNreverse = 'img/n-reverse-orange.png';
    var tealN ='img/n-teal.png';
    var tealNreverse = 'img/n-reverse-teal.png';
    var yellowN = 'img/n-yellow.png';
    var yellowNreverse = 'img/n-reverse-yellow.png';
    var fixation = 'img/fixation.gif';




  var intro = {
    type: 'html-keyboard-response',
    stimulus: '<p>You will see a set of Ns on the following screens. Press J if there is a backwards N. If there is no backwards N press F.</p><p>Press any key to begin.</p>'
  }

 var num_trials = 100;
 var distractors = [blackN, blueN, greenN, purpleN, redN, orangeN, tealN, yellowN];
 var targets = [blackNreverse, blueNreverse, greenNreverse, purpleNreverse, redNreverse, orangeNreverse, tealNreverse, yellowNreverse];
 var present = [true, false];
 var trials = [];
 var size = 40;
 var min = 10;
 var max = 25;


 for (var i = 0; i < num_trials ; i++){

  // random element from list distractors
  // this will be the main color (same as target)
  var index = Math.floor(Math.random()*distractors.length);
  var distractor = distractors[index];

  // same element from list targets
  // this will be the target
  var target = targets[index];

  // set size between acceptible range
  var set = Math.random() * (max - min) + min;


  // randomize present
  var present_index = Math.floor(Math.random()*present.length);

  var trial = {
    target_present: present[present_index],
    target: target,
    foil: distractor,
    set_size: set,
    target_size: [size,size]
  }

  trials.push(trial);

 }



  var trials = {
    type: 'visual-search-area',
    fixation_image: fixation,
    timeline: trials
  };

  jsPsych.init({
    timeline: [intro, trials],
    on_finish: function() {
      jsPsych.data.displayData();
    }
  });
</script>

</html>
